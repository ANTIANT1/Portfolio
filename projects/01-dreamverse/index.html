<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamVerse | Second Reality</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;800&family=JetBrains+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #2563eb;
            --accent-glow: #3b82f6;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #020204;
            color: #e5e5e5;
            overflow-x: hidden;
            cursor: default;
            scroll-behavior: smooth;
        }

        /* --- 1. ATMOSPHERE & BACKGROUND (GOD-TIER) --- */
        /* Volumetric Cinematic Gradient */
        .cinematic-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2;
            background: 
                radial-gradient(ellipse at 20% 10%, rgba(37, 99, 235, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 90%, rgba(59, 130, 246, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(17, 24, 39, 1) 0%, rgba(0, 0, 0, 1) 100%);
        }
        
        /* Subtle Organic Noise (Premium) */
        .noise-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 50;
            opacity: 0.015;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            mix-blend-mode: overlay;
        }

        /* Flying Particles Canvas */
        #synapse-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
        }

        /* --- TYPOGRAPHY --- */
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .tracking-ultra { letter-spacing: -0.05em; }
        
        /* Holographic Text Effect */
        .text-holo {
            background: linear-gradient(90deg, #fff 0%, #a5f3fc 50%, #fff 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: holoShine 4s linear infinite;
        }
        @keyframes holoShine { to { background-position: 200% center; } }

        /* --- UI COMPONENTS --- */
        .glass-panel {
            background: rgba(20, 20, 20, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .reveal {
            opacity: 0; transform: translateY(40px);
            transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .reveal.delay-100 { transition-delay: 0.1s; }
        .reveal.delay-200 { transition-delay: 0.2s; }
        .reveal.delay-300 { transition-delay: 0.3s; }
        .reveal.delay-400 { transition-delay: 0.4s; }
        .reveal.delay-500 { transition-delay: 0.5s; }

        /* --- INTERACTIVE HEX MAP CANVAS --- */
        #hex-map-canvas {
            max-width: 1215px;
            height: 810px;
            margin: 0 auto;
            display: block;
            cursor: grab;
            border-radius: 16px;
            background: rgba(10, 10, 15, 0.3);
            backdrop-filter: blur(20px);
            transform: rotateX(10deg) rotateZ(-5deg);
            transform-style: preserve-3d;
            transition: transform 0.3s ease;
        }
        
        #hex-map-canvas:hover {
            transform: rotateX(10deg) rotateZ(-5deg) scale(1.02);
        }
        
        #hex-map-canvas:active {
            cursor: grabbing;
        }
        
        .hex-popup {
            position: fixed;
            background: rgba(10, 10, 15, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            backdrop-filter: blur(20px);
            min-width: 200px;
        }
        
        .hex-popup.visible {
            opacity: 1;
        }
        
        /* HEX DETAIL MODAL */
        .hex-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(10px);
        }
        
        .hex-modal.active {
            display: flex;
        }
        
        .hex-modal-content {
            background: rgba(15, 15, 20, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(30px);
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .hex-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.2s;
        }
        
        .hex-modal-close:hover {
            opacity: 1;
        }
        
        /* DOSSIER STYLES */
        .dossier-content {
            animation: dossierSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes dossierSlide {
            from { 
                opacity: 0; 
                transform: translateX(100px) rotateY(15deg); 
                filter: blur(4px);
            }
            to { 
                opacity: 1; 
                transform: translateX(0) rotateY(0); 
                filter: blur(0);
            }
        }
        
        .dossier-content.slide-out {
            animation: dossierSlideOut 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
        }
        
        @keyframes dossierSlideOut {
            to { 
                opacity: 0; 
                transform: translateX(-100px) rotateY(-15deg); 
                filter: blur(4px);
            }
        }
        
        /* Agent Portrait Styles - Realistic Photo */
        .agent-portrait {
            position: relative;
            width: 100%;
            height: 450px;
            margin: 0 auto 1.5rem;
            border-radius: 16px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--agent-color-1), var(--agent-color-2));
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .portrait-photo {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 20%;
            filter: grayscale(0.3) contrast(1.1);
            transition: filter 0.3s ease;
        }
        
        .agent-portrait:hover .portrait-photo {
            filter: grayscale(0) contrast(1.15);
        }
        
        .portrait-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, 
                var(--agent-color-1) 0%, 
                transparent 40%, 
                transparent 60%, 
                var(--agent-color-2) 100%);
            opacity: 0.3;
            mix-blend-mode: multiply;
            transition: opacity 0.3s ease;
        }
        
        .agent-portrait:hover .portrait-overlay {
            opacity: 0.5;
        }
        
        .portrait-glow {
            position: absolute;
            inset: -2px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--agent-color-1), var(--agent-color-2));
            opacity: 0.6;
            filter: blur(20px);
            z-index: -1;
            animation: glowPulse 3s ease-in-out infinite;
        }
        
        @keyframes glowPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 0.9; }
        }
        
        .portrait-scan {
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 3px,
                rgba(255, 255, 255, 0.02) 3px,
                rgba(255, 255, 255, 0.02) 6px
            );
            pointer-events: none;
            animation: scanline 4s linear infinite;
        }
        
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        
        .agent-badge {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            padding: 8px 20px;
            border-radius: 24px;
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 2px;
            border: 2px solid;
            border-color: var(--agent-color-1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.7), 0 0 20px var(--agent-color-1);
            z-index: 10;
            white-space: nowrap;
        }
        
        .stat-bar {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        
        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.8s ease;
        }

        /* --- NPC CAROUSEL --- */
        .npc-container {
            position: relative; height: 320px; perspective: 1000px;
        }
        .npc-card {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; transform: rotateY(10deg) translateX(30px);
            transition: all 0.8s ease; pointer-events: none;
        }
        .npc-card.active {
            opacity: 1; transform: rotateY(0deg) translateX(0); pointer-events: auto; z-index: 10;
        }

        /* --- CURSOR --- */
        .cursor-blink { animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        /* --- 3D CUBE STYLES --- */
        .scene-3d {
            width: 100px;
            height: 100px;
            position: relative;
            transform-style: preserve-3d;
            animation: spin 10s infinite linear;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
        }

        .cube-face {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 1px solid rgba(59, 130, 246, 0.5);
            background: rgba(59, 130, 246, 0.1);
            backdrop-filter: blur(5px);
        }

        .face-front  { transform: rotateY(0deg) translateZ(50px); }
        .face-back   { transform: rotateY(180deg) translateZ(50px); }
        .face-right  { transform: rotateY(90deg) translateZ(50px); }
        .face-left   { transform: rotateY(-90deg) translateZ(50px); }
        .face-top    { transform: rotateX(90deg) translateZ(50px); }
        .face-bottom { transform: rotateX(-90deg) translateZ(50px); }

        @keyframes spin {
            0% { transform: rotateX(-15deg) rotateY(0deg); }
            100% { transform: rotateX(-15deg) rotateY(360deg); }
        }
    </style>
</head>
<body class="antialiased selection:bg-blue-600/30">

    <div class="cinematic-bg"></div>
    <div class="noise-layer"></div>
    
    <!-- BACKGROUND CANVAS (Flying Particles) -->
    <canvas id="synapse-canvas"></canvas>

    <!-- NAVIGATION -->
    <nav class="fixed top-0 w-full z-50 glass-panel border-b border-white/5 transition-all duration-500">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <!-- Logo -->
            <a href="#" class="flex items-center gap-3 group">
                <div class="relative w-3 h-3">
                    <div class="absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75"></div>
                    <div class="relative w-3 h-3 bg-blue-600 rounded-full shadow-[0_0_15px_#2563eb]"></div>
                </div>
                <span class="font-mono text-sm font-bold tracking-[0.2em] text-white group-hover:text-blue-400 transition-colors">DREAMVERSE</span>
            </a>

            <!-- Menu -->
            <div class="hidden md:flex items-center gap-10 text-[10px] font-bold tracking-[0.2em] text-white/50 uppercase font-mono">
                <a href="#creation" class="hover:text-white transition-colors">Creation</a>
                <a href="#gameplay" class="hover:text-white transition-colors text-blue-400">Gameplay</a>
                <a href="#core" class="hover:text-white transition-colors">Core</a>
                <a href="#expansion" class="hover:text-white transition-colors">Map</a>
                <a href="#presale" class="hover:text-white transition-colors">Presale</a>
            </div>

            <!-- CTA -->
            <a href="#presale" class="hidden md:inline-flex px-6 py-3 bg-white text-black text-[10px] font-bold tracking-widest uppercase hover:bg-blue-500 hover:text-white transition-all duration-300 transform hover:-translate-y-1 rounded-sm shadow-lg">
                Get In Early
            </a>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="min-h-screen flex flex-col justify-center items-center relative px-6">
        <div class="text-center max-w-6xl z-10 reveal active">
            <!-- Badge -->
            <div class="inline-flex items-center gap-3 px-4 py-2 border border-blue-500/30 bg-blue-900/10 backdrop-blur-md mb-12 rounded-full">
                <span class="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
                <span class="font-mono text-[9px] uppercase tracking-[0.3em] text-blue-300">System Online</span>
            </div>

            <!-- Main Title (AS REQUESTED) -->
            <h1 class="text-5xl md:text-8xl lg:text-9xl font-bold tracking-tighter mb-10 text-white leading-[0.9]">
                UNIVERSE.<br>
                DREAM.<br>
                <span class="text-white/40">SECOND REALITY.</span>
            </h1>

            <!-- Subtext -->
            <div class="max-w-2xl mx-auto text-center">
                <p class="font-mono text-xs text-blue-500 mb-4">> Initializing World Protocol...</p>
                <p class="text-lg md:text-xl text-white/70 font-light leading-relaxed">
                    A world you write yourself, and an economy you own. <br>
                    No scripts. No limits. Just your imagination and code.
                </p>
            </div>
        </div>
        
        <!-- Scroll Hint -->
        <div class="absolute bottom-12 opacity-30 animate-bounce">
            <div class="w-px h-16 bg-gradient-to-b from-transparent via-white to-transparent"></div>
        </div>
    </section>

    <!-- NEW: THE PROBLEM SECTION -->
    <section class="py-32 px-6 bg-zinc-950/50 border-t border-white/5 relative overflow-hidden">
        <div class="max-w-5xl mx-auto text-center reveal">
            <span class="font-mono text-red-500 text-[10px] tracking-widest uppercase mb-4 block">The Reality Check</span>
            <h2 class="text-4xl md:text-7xl font-bold tracking-tighter mb-12">Traditional MMOs<br><span class="text-white/30">Are Dead.</span></h2>
            
            <div class="grid md:grid-cols-2 gap-8 max-w-3xl mx-auto mb-16">
                <div class="glass-panel p-8 hover:border-red-500/30 transition-all group">
                    <div class="w-12 h-12 mb-4 border border-red-500/30 flex items-center justify-center group-hover:border-red-500 transition-all">
                        <div class="w-6 h-0.5 bg-red-500"></div>
                    </div>
                    <h3 class="text-lg font-bold text-white/80 mb-2">Pre-Written Quests</h3>
                    <p class="text-sm text-white/50">Follow the script. No creativity. No freedom.</p>
                </div>
                
                <div class="glass-panel p-8 hover:border-red-500/30 transition-all group">
                    <div class="w-12 h-12 mb-4 border border-red-500/30 flex items-center justify-center group-hover:border-red-500 transition-all">
                        <div class="w-6 h-0.5 bg-red-500"></div>
                    </div>
                    <h3 class="text-lg font-bold text-white/80 mb-2">Developer-Controlled</h3>
                    <p class="text-sm text-white/50">They own everything. You own nothing.</p>
                </div>
                
                <div class="glass-panel p-8 hover:border-red-500/30 transition-all group">
                    <div class="w-12 h-12 mb-4 border border-red-500/30 flex items-center justify-center group-hover:border-red-500 transition-all">
                        <div class="w-6 h-0.5 bg-red-500"></div>
                    </div>
                    <h3 class="text-lg font-bold text-white/80 mb-2">Wasted Time</h3>
                    <p class="text-sm text-white/50">1,000 hours played. Zero value retained.</p>
                </div>
                
                <div class="glass-panel p-8 hover:border-red-500/30 transition-all group">
                    <div class="w-12 h-12 mb-4 border border-red-500/30 flex items-center justify-center group-hover:border-red-500 transition-all">
                        <div class="w-6 h-0.5 bg-red-500"></div>
                    </div>
                    <h3 class="text-lg font-bold text-white/80 mb-2">Fake Economy</h3>
                    <p class="text-sm text-white/50">Gold inflation. Market manipulation. No real value.</p>
                </div>
            </div>
            
            <p class="text-2xl md:text-3xl font-light text-white/60 leading-relaxed">
                You spent <span class="text-white font-bold">years</span> building empires in worlds you don't own.<br>
                <span class="text-blue-500 font-bold">What if there was another way?</span>
            </p>
        </div>
    </section>

    <!-- 1. CREATION (GENESIS STREAM) -->
    <section id="creation" class="py-32 relative border-t border-white/5 bg-gradient-to-b from-transparent to-blue-950/10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid lg:grid-cols-2 gap-24 items-center">

                <!-- Text Content -->
                <div class="reveal">
                    <span class="text-blue-500 text-[10px] font-bold tracking-[0.3em] uppercase mb-6 block">The Engine</span>
                    <h2 class="text-4xl md:text-6xl font-bold mb-10 tracking-tighter text-white">WORD =<br>MATTER.</h2>

                    <div class="space-y-12">
                        <!-- Item 01 -->
                        <div class="group">
                            <div class="flex items-baseline gap-4 mb-2">
                                <span class="text-xs font-mono text-blue-500/50">01</span>
                                <h3 class="text-xl font-bold text-white">Text Transmutation</h3>
                            </div>
                            <p class="text-sm text-white/40 leading-relaxed pl-8 border-l border-white/10 group-hover:border-blue-500/50 transition-colors">
                                From a "Rusty Sword" to a "Cyber-Citadel". Describe it in natural language, and the Magic Bridge brings it to life in UE5.
                            </p>
                        </div>

                        <!-- Item 02 -->
                        <div class="group">
                            <div class="flex items-baseline gap-4 mb-2">
                                <span class="text-xs font-mono text-blue-500/50">02</span>
                                <h3 class="text-xl font-bold text-white">Asset Sovereignty</h3>
                            </div>
                            <p class="text-sm text-white/40 leading-relaxed pl-8 border-l border-white/10 group-hover:border-blue-500/50 transition-colors">
                                Every generated atom is yours. Automatically minted as an NFT on creation. Your imagination is your equity.
                            </p>
                        </div>

                         <!-- Item 03 -->
                         <div class="group">
                            <div class="flex items-baseline gap-4 mb-2">
                                <span class="text-xs font-mono text-blue-500/50">03</span>
                                <h3 class="text-xl font-bold text-white">Global Understanding</h3>
                            </div>
                            <p class="text-sm text-white/40 leading-relaxed pl-8 border-l border-white/10 group-hover:border-blue-500/50 transition-colors">
                                The Core understands context in any language. English, Japanese, Russian — barrier-free creation.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 3D Demo UI -->
                <div class="reveal delay-200">
                    <div class="glass-panel rounded-2xl p-8 relative overflow-hidden">
                        <!-- Header -->
                        <div class="flex justify-between items-center mb-8 border-b border-white/5 pb-4">
                            <div class="flex gap-2">
                                <div class="w-2 h-2 rounded-full bg-red-500/20"></div>
                                <div class="w-2 h-2 rounded-full bg-yellow-500/20"></div>
                                <div class="w-2 h-2 rounded-full bg-green-500"></div>
                            </div>
                            <div class="text-[9px] font-mono text-white/30">GENERATOR_V3.EXE</div>
                        </div>

                        <!-- 3D Render Area -->
                        <div class="h-[300px] flex items-center justify-center relative">
                            <!-- Background Grid -->
                            <div class="absolute inset-0" style="background-image: radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 20px 20px; opacity: 0.2;"></div>

                            <!-- The 3D Cube -->
                            <div class="scene-3d">
                                <div class="cube">
                                    <div class="cube-face face-front"></div>
                                    <div class="cube-face face-back"></div>
                                    <div class="cube-face face-right"></div>
                                    <div class="cube-face face-left"></div>
                                    <div class="cube-face face-top"></div>
                                    <div class="cube-face face-bottom"></div>
                                </div>
                            </div>

                            <!-- Floating Labels -->
                            <div class="absolute top-10 right-10 text-right">
                                <div class="text-[9px] text-blue-400 font-mono mb-1">VERTICES: 8,420</div>
                                <div class="text-[9px] text-blue-400 font-mono">TEXTURE: 4K</div>
                            </div>
                        </div>

                        <!-- Input -->
                        <div class="bg-black/40 rounded-lg p-4 border border-white/10 flex gap-4 items-center">
                            <span class="text-green-500 text-xs font-mono">></span>
                            <span id="typewriter-gen" class="text-xs font-mono text-white/80"></span><span class="inline-block w-0.5 h-3 bg-white ml-1 animate-pulse"></span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- 2. GAMEPLAY -->
    <section id="gameplay" class="py-32 bg-zinc-950/30 relative overflow-hidden border-t border-white/5">
        <div class="max-w-7xl mx-auto px-6 relative z-10">
            <div class="text-center mb-24 reveal">
                <span class="font-mono text-blue-500 text-[10px] tracking-widest uppercase mb-4 block">Deep Dive Mechanics</span>
                <h2 class="text-4xl md:text-7xl font-bold tracking-tighter text-holo mb-6 pb-2">PLAY WITHOUT A SCRIPT.</h2>
                <p class="text-white/40 max-w-2xl mx-auto text-lg">
                    Traditional MMOs are dead. In DreamVerse, there are no pre-written quests. The world reacts to your every move via LLM-Core.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="glass-panel p-10 hover:border-blue-500/50 transition-colors group reveal">
                    <div class="w-16 h-16 mb-6 border border-blue-500/30 flex items-center justify-center group-hover:border-blue-500 transition-all group-hover:scale-110 duration-500"><svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><h3 class="text-xl font-bold text-white mb-4">Neuro-Quests</h3>
                    <p class="text-white/50 text-sm leading-relaxed">
                        LLM engine analyzes your history. Killed a dragon? His brother will seek revenge. The plot writes itself.
                    </p>
                </div>
                <!-- Feature 2 -->
                <div class="glass-panel p-10 hover:border-blue-500/50 transition-colors group reveal delay-100">
                    <div class="w-16 h-16 mb-6 border border-blue-500/30 flex items-center justify-center group-hover:border-blue-500 transition-all group-hover:scale-110 duration-500">
                        <svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-4">Class Constructor</h3>
                    <p class="text-white/50 text-sm leading-relaxed">
                        Describe your style: "Shadow Monk with Blood Magic". The system generates a unique skill tree.
                    </p>
                </div>
                <!-- Feature 3 -->
                <div class="glass-panel p-10 hover:border-blue-500/50 transition-colors group reveal delay-200">
                    <div class="w-16 h-16 mb-6 border border-blue-500/30 flex items-center justify-center group-hover:border-blue-500 transition-all group-hover:scale-110 duration-500"><svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h3 class="text-xl font-bold text-white mb-4">Living Politics</h3>
                    <p class="text-white/50 text-sm leading-relaxed">
                        Form orders, create intrigues, declare wars. DreamVerse politics are fully player-governed.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. SYSTEM CORE (Interactive Graph) -->
    <section id="core" class="py-20 relative border-y border-white/5 overflow-hidden bg-black/40">
        <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center relative z-10">
            <div class="reveal">
                <span class="font-mono text-white/30 text-[10px] tracking-widest uppercase mb-4 block">Economy Visualization</span>
                <h2 class="text-4xl font-bold mb-6 tracking-tighter">NEURO CORE.</h2>
                <p class="text-white/50 text-sm leading-relaxed mb-8">
                    This is a living data organism. Every node is an asset (land, item, NPC). <br><br>
                    All elements are semantically linked. Interact with the graph to see the connections.
                </p>
                <div class="inline-flex items-center gap-2 text-xs font-mono text-blue-400 border border-blue-500/20 px-3 py-1 bg-blue-500/5">
                    <span class="w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"></span>
                    SYNCED WITH MAINNET
                </div>
            </div>
            
            <!-- INTERACTIVE GRAPH CANVAS WRAPPER -->
            <div class="h-[600px] w-full glass-panel rounded-2xl relative overflow-hidden group" style="background: rgba(20, 20, 20, 0.1); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.05);">
                <canvas id="core-graph-canvas" class="absolute inset-0 w-full h-full cursor-crosshair"></canvas>
                <div class="absolute bottom-4 left-4 pointer-events-none">
                    <div class="font-mono text-xs text-white/50">NODES: <span class="text-white">4,205</span></div>
                    <div class="font-mono text-[9px] text-blue-500 mt-1 opacity-60">NEURO CORE • ACTIVE</div>
                </div>
                <div class="absolute top-4 right-4 pointer-events-none">
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 bg-blue-500 rounded-full animate-pulse shadow-[0_0_10px_#3b82f6]"></div>
                        <span class="font-mono text-[9px] text-blue-400 uppercase tracking-wider">Online</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. TERRAFORMING (MAP) -->
    <section id="expansion" class="py-32 relative">
        <div class="max-w-7xl mx-auto px-6 text-center z-10 relative">
            <span class="font-mono text-[10px] text-white/30 tracking-widest uppercase mb-4 block">Sector 0: Genesis Ring</span>
            <h2 class="text-5xl md:text-7xl font-bold mb-8 tracking-tighter text-white">TERRAFORMING.</h2>
            <p class="text-white/40 max-w-2xl mx-auto mb-16 text-lg">
                Explore a living world of diverse biomes. Click any territory to discover <span class="text-blue-400">Oceans</span>, <span class="text-green-400">Forests</span>, <span class="text-lime-400">Plains</span>, <span class="text-yellow-400">Deserts</span>, <span class="text-purple-400">Mountains</span>, and <span class="text-pink-400">Citadels</span>. Build your realm across nature's wonders.
            </p>

            <!-- INTERACTIVE HEX MAP -->
            <canvas id="hex-map-canvas"></canvas>
            
            <!-- POPUP INFO (hover) -->
            <div id="hex-popup" class="hex-popup">
                <div class="font-mono text-xs text-white/50 mb-2" id="popup-type"></div>
                <div class="text-white font-bold text-lg mb-2" id="popup-title"></div>
                <div class="text-white/70 text-sm mb-3" id="popup-desc"></div>
                <div class="flex gap-4 text-xs font-mono text-white/40">
                    <div><span class="text-blue-400">Res:</span> <span id="popup-resources"></span></div>
                    <div><span class="text-purple-400">Owner:</span> <span id="popup-owner"></span></div>
                </div>
            </div>
            
            <!-- MODAL (click) -->
            <div id="hex-modal" class="hex-modal">
                <div class="hex-modal-content">
                    <button class="hex-modal-close" onclick="document.getElementById('hex-modal').classList.remove('active')">&times;</button>
                    
                    <div class="font-mono text-xs mb-2" id="modal-type" style="color: rgba(255,255,255,0.5);"></div>
                    <h3 class="text-3xl font-bold mb-4 text-white" id="modal-title"></h3>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="glass-panel p-4 rounded-lg">
                            <div class="text-white/50 text-xs font-mono mb-1">RESOURCES</div>
                            <div class="text-2xl font-bold text-blue-400" id="modal-resources"></div>
                            <div class="text-xs text-white/30">per day</div>
                        </div>
                        <div class="glass-panel p-4 rounded-lg">
                            <div class="text-white/50 text-xs font-mono mb-1">OWNER</div>
                            <div class="text-xl font-bold text-white" id="modal-owner"></div>
                            <div class="text-xs text-white/30" id="modal-status"></div>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-4 rounded-lg mb-6">
                        <div class="text-white/50 text-xs font-mono mb-2">COORDINATES</div>
                        <div class="text-white font-mono" id="modal-coords"></div>
                    </div>
                    
                    <div class="text-white/70 mb-6" id="modal-description"></div>
                    
                    <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                        CLAIM TERRITORY
                    </button>
                </div>
            </div>

             <!-- Stats -->
             <div class="flex justify-center gap-16 mt-12 font-mono text-xs text-white/30 uppercase tracking-widest">
                <div>
                    <span class="block text-xl text-white font-bold mb-1">∞</span>
                    Max Supply
                </div>
                <div class="w-px h-10 bg-white/10"></div>
                <div>
                    <span class="block text-xl text-blue-500 font-bold mb-1">ERC-721</span>
                    Land Standard
                </div>
            </div>
        </div>
    </section>

    <!-- 5. NPC DOSSIER SECTION -->
    <section id="npc" class="py-32 border-t border-white/5 bg-zinc-950/50">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-16">
                <span class="font-mono text-[10px] text-blue-500/70 tracking-widest uppercase mb-4 block">AUTONOMOUS INTELLIGENCE</span>
                <h2 class="text-5xl md:text-7xl font-bold mb-6 tracking-tighter text-white">LIVING<br>AGENTS.</h2>
                <p class="text-white/40 max-w-2xl mx-auto text-lg">
                    AI entities with persistent memory and independent will. They remember, learn, and act on your behalf — even when you're offline.
                </p>
            </div>
            
            <!-- DOSSIER VIEWER -->
            <div class="max-w-6xl mx-auto">
                <div class="relative flex items-center gap-4">
                    <!-- LEFT BUTTON -->
                    <button id="prev-dossier" class="group relative w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border-2 border-blue-500/30 hover:border-blue-400 hover:from-blue-500/30 hover:to-purple-500/30 transition-all flex items-center justify-center text-white overflow-hidden flex-shrink-0 hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/30 to-blue-500/0 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                        <svg class="w-7 h-7 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    
                    <!-- Dossier Container -->
                    <div id="dossier-viewer" class="glass-panel rounded-2xl p-8 min-h-[600px] relative overflow-hidden flex-1">
                        <!-- Dossier Card (will be populated by JS) -->
                        <div id="dossier-content" class="dossier-content"></div>
                        
                        <!-- Stamped Watermark -->
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-9xl font-bold text-red-500/5 rotate-[-25deg] pointer-events-none select-none">
                            CLASSIFIED
                        </div>
                    </div>
                    
                    <!-- RIGHT BUTTON -->
                    <button id="next-dossier" class="group relative w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border-2 border-blue-500/30 hover:border-blue-400 hover:from-blue-500/30 hover:to-purple-500/30 transition-all flex items-center justify-center text-white overflow-hidden flex-shrink-0 hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/30 to-blue-500/0 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                        <svg class="w-7 h-7 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Counter and Swipe Indicator -->
                <div class="flex justify-center items-center gap-4 mt-6">
                    <div class="font-mono text-xs text-white/50 text-center">
                        <span id="dossier-index" class="text-blue-400 font-bold text-2xl">1</span>
                        <span class="text-white/30 mx-2">/</span>
                        <span id="dossier-total" class="text-white/40 text-lg">5</span>
                    </div>
                    <div class="md:hidden text-xs text-white/30 font-mono ml-4">
                        ← Swipe →
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. SOCIAL PROOF (Vision-Based) -->
    <section class="py-32 bg-zinc-900/30 border-t border-white/5">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-20 reveal">
                <span class="font-mono text-blue-500 text-[10px] tracking-widest uppercase mb-4 block">The Vision</span>
                <h2 class="text-4xl md:text-6xl font-bold tracking-tighter mb-6">JOIN THE <span class="text-blue-500">GENESIS</span>.</h2>
                <p class="text-white/50 max-w-2xl mx-auto text-lg">
                    We're building the future of gaming. Not just another game — a new paradigm.
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8 mb-20">
                <!-- Vision Card 1 -->
                <div class="glass-panel p-8 text-center reveal">
                    <div class="w-16 h-16 mx-auto mb-6 border border-blue-500/30 flex items-center justify-center">
                        <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3">Unlimited Creativity</h3>
                    <p class="text-sm text-white/50">No pre-built assets. Pure procedural generation from your imagination.</p>
                </div>
                
                <!-- Vision Card 2 -->
                <div class="glass-panel p-8 text-center reveal delay-100">
                    <div class="w-16 h-16 mx-auto mb-6 border border-blue-500/30 flex items-center justify-center">
                        <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3">True Ownership</h3>
                    <p class="text-sm text-white/50">Your creations, your IP, your economy. Built on blockchain.</p>
                </div>
                
                <!-- Vision Card 3 -->
                <div class="glass-panel p-8 text-center reveal delay-200">
                    <div class="w-16 h-16 mx-auto mb-6 border border-blue-500/30 flex items-center justify-center">
                        <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3">Player-Driven World</h3>
                    <p class="text-sm text-white/50">No developer tyranny. The community shapes everything.</p>
                </div>
            </div>
            
            <!-- Partner Placeholder (for future) -->
            <div class="text-center reveal">
                <p class="font-mono text-xs text-white/30 uppercase tracking-widest mb-6">Backed By</p>
                <div class="flex justify-center gap-12 items-center opacity-40">
                    <div class="text-white/60 font-mono text-sm">[ Partner Logos ]</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 7. MANIFESTO -->
    <section id="manifesto" class="py-32 bg-white text-black relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 relative z-10 grid lg:grid-cols-2 gap-20">
            <div>
                <span class="font-mono text-blue-600 text-[10px] tracking-widest uppercase mb-4 block">The Manifesto</span>
                <h2 class="text-5xl md:text-8xl font-bold tracking-tighter mb-8 text-black">READY<br>PLAYER<br>ONE.</h2>
                <p class="text-lg font-medium text-black/70 mb-8 max-w-md leading-relaxed">
                    If you grew up on cyberpunk and dreams of the Metaverse — you are home. <br><br>
                    Become an Architect of reality, not just a player.
                </p>
                <a href="#" class="inline-flex items-center gap-2 font-bold text-sm border-b-2 border-black pb-1 hover:text-blue-600 hover:border-blue-600 transition-colors">Join the Core Team</a>
            </div>
        </div>
    </section>

    <!-- 8. DUAL CTA (Public Presale + Private Round) -->
    <section id="presale" class="py-32 px-6 bg-[#050505] border-t border-white/10">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16 reveal">
                <h2 class="text-5xl md:text-8xl font-bold mb-6 tracking-tighter text-white">GET IN <span class="text-blue-500">EARLY</span>.</h2>
                <p class="text-xl text-white/50 max-w-2xl mx-auto">
                    Choose your entry point. Public presale or exclusive private allocation.
                </p>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <!-- PUBLIC PRESALE -->
                <div class="glass-panel p-10 md:p-12 relative overflow-hidden group hover:border-blue-500/50 transition-all reveal">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-blue-600/5 blur-[100px] rounded-full pointer-events-none group-hover:bg-blue-600/10 transition-all"></div>
                    
                    <div class="relative z-10">
                        <span class="inline-block px-4 py-2 bg-blue-500/10 border border-blue-500/30 text-blue-400 text-xs font-mono uppercase tracking-widest mb-6 rounded-full">Public Round</span>
                        
                        <h3 class="text-4xl font-bold text-white mb-4">Token Presale</h3>
                        <p class="text-white/60 mb-8 text-sm leading-relaxed">
                            Join the community early. Get $DREAM tokens at launch price with early bird bonuses.
                        </p>
                        
                        <div class="space-y-3 mb-8 text-sm">
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                                <span class="text-white/70">Early Bird Discount: 20%</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                                <span class="text-white/70">Min Buy: 0.1 ETH</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                                <span class="text-white/70">Instant Liquidity Post-Launch</span>
                            </div>
                        </div>
                        
                        <button class="w-full bg-blue-600 text-white p-5 font-bold hover:bg-blue-500 transition-all tracking-widest uppercase shadow-xl rounded-sm mb-4">
                            BUY $DREAM TOKEN
                        </button>
                        
                        <p class="font-mono text-[10px] text-white/30 text-center uppercase">Presale Opens Q1 2026</p>
                    </div>
                </div>
                
                <!-- PRIVATE ROUND -->
                <div class="glass-panel p-10 md:p-12 relative overflow-hidden group hover:border-yellow-500/50 transition-all reveal delay-100">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-yellow-600/5 blur-[100px] rounded-full pointer-events-none group-hover:bg-yellow-600/10 transition-all"></div>
                    
                    <div class="relative z-10">
                        <span class="inline-block px-4 py-2 bg-yellow-500/10 border border-yellow-500/30 text-yellow-400 text-xs font-mono uppercase tracking-widest mb-6 rounded-full">Private Round</span>
                        
                        <h3 class="text-4xl font-bold text-white mb-4">Strategic Allocation</h3>
                        <p class="text-white/60 mb-8 text-sm leading-relaxed">
                            Exclusive round for VCs, institutions, and strategic partners. Direct whitepaper access.
                        </p>
                        
                        <div class="space-y-3 mb-8 text-sm">
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-yellow-500 rounded-full"></div>
                                <span class="text-white/70">Min Ticket: 1 ETH</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-yellow-500 rounded-full"></div>
                                <span class="text-white/70">Vesting: 12 Months</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-1.5 h-1.5 bg-yellow-500 rounded-full"></div>
                                <span class="text-white/70">Allocation: $2.5M Cap</span>
                            </div>
                        </div>
                        
                        <form class="space-y-4">
                            <input type="email" placeholder="INSTITUTIONAL EMAIL" class="w-full bg-white/5 border border-white/10 p-4 text-center text-white placeholder-white/20 focus:outline-none focus:border-yellow-500 transition-colors font-mono text-sm tracking-widest uppercase rounded-sm">
                            <button type="submit" class="w-full bg-white text-black p-5 font-bold hover:bg-yellow-500 hover:text-black transition-all tracking-widest uppercase shadow-xl rounded-sm">
                                REQUEST WHITEPAPER
                            </button>
                        </form>
                        
                        <p class="font-mono text-[10px] text-white/30 text-center uppercase mt-4">Round: Seed Stage</p>
                    </div>
                </div>
            </div>
            
            <!-- Additional Info -->
            <div class="text-center mt-16 reveal delay-200">
                <p class="text-white/40 text-sm mb-6">Questions about tokenomics or participation?</p>
                <a href="#" class="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors text-sm font-mono">
                    <span>JOIN DISCORD</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                </a>
            </div>
        </div>
    </section>

    <!-- 9. FAQ SECTION -->
    <section class="py-32 px-6 bg-zinc-950/50 border-t border-white/5">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-20 reveal">
                <span class="font-mono text-blue-500 text-[10px] tracking-widest uppercase mb-4 block">Questions</span>
                <h2 class="text-4xl md:text-6xl font-bold tracking-tighter mb-6">FAQ</h2>
                <p class="text-white/50 text-lg">Everything you need to know about DreamVerse.</p>
            </div>
            
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div class="glass-panel p-6 hover:border-blue-500/30 transition-all cursor-pointer reveal group">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">What makes DreamVerse different from other MMOs?</h3>
                        <svg class="w-5 h-5 text-blue-500 transform group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    <p class="text-white/60 text-sm leading-relaxed">
                        DreamVerse uses LLM-powered procedural generation. Instead of playing pre-built content, you describe what you want in natural language, and the world generates it in real-time. Every item, quest, and NPC is unique to your playthrough.
                    </p>
                </div>
                
                <!-- FAQ Item 2 -->
                <div class="glass-panel p-6 hover:border-blue-500/30 transition-all cursor-pointer reveal delay-100 group">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">How does true ownership work?</h3>
                        <svg class="w-5 h-5 text-blue-500 transform group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    <p class="text-white/60 text-sm leading-relaxed">
                        All in-game assets are NFTs (ERC-721/ERC-1155). When you create an item via text prompt, it's automatically minted to your wallet. You can trade, sell, or use it across the metaverse. The IP rights belong to you.
                    </p>
                </div>
                
                <!-- FAQ Item 3 -->
                <div class="glass-panel p-6 hover:border-blue-500/30 transition-all cursor-pointer reveal delay-200 group">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">When is the token presale?</h3>
                        <svg class="w-5 h-5 text-blue-500 transform group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    <p class="text-white/60 text-sm leading-relaxed">
                        Public presale opens Q1 2026. Early bird participants get 20% discount. Private round for institutions is open now (min 1 ETH). Join Discord for updates.
                    </p>
                </div>
                
                <!-- FAQ Item 4 -->
                <div class="glass-panel p-6 hover:border-blue-500/30 transition-all cursor-pointer reveal delay-300 group">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">What's the technology stack?</h3>
                        <svg class="w-5 h-5 text-blue-500 transform group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    <p class="text-white/60 text-sm leading-relaxed">
                        Unreal Engine 5 for graphics, custom LLM pipeline for generation (GPT-4 + fine-tuned models), Ethereum blockchain for asset ownership, IPFS for decentralized storage. Fully on-chain economy.
                    </p>
                </div>
                
                <!-- FAQ Item 5 -->
                <div class="glass-panel p-6 hover:border-blue-500/30 transition-all cursor-pointer reveal delay-400 group">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">Can I play solo or is it multiplayer-only?</h3>
                        <svg class="w-5 h-5 text-blue-500 transform group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    <p class="text-white/60 text-sm leading-relaxed">
                        Both. You can explore solo with AI NPCs managing your empire, or join guilds for massive PvP wars. Your NPCs (ERC-6551 agents) work 24/7 even when you're offline.
                    </p>
                </div>
            </div>
            
            <div class="text-center mt-12 reveal delay-500">
                <p class="text-white/40 text-sm mb-4">Still have questions?</p>
                <a href="#" class="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors font-mono text-sm">
                    <span>READ FULL DOCS</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                </a>
            </div>
        </div>
    </section>

    <footer class="py-12 border-t border-white/5 text-center bg-black">
        <p class="font-mono text-[10px] text-white/30 uppercase tracking-widest">DreamVerse Protocol © 2025. Amsterdam Node.</p>
    </footer>

    <!-- SCRIPTS -->
    <script>
        /* --- 1. UNIFIED NEURAL NETWORK (GOD-TIER) --- */
        const canvas = document.getElementById('synapse-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, particles = [];
        
        // Global neural core coordination
        window.neuralCore = { x: 0, y: 0, pulsePhase: 0, active: false };
        
        function resize() { 
            w = canvas.width = window.innerWidth; 
            h = canvas.height = window.innerHeight;
            neuralCore.x = w / 2;
            neuralCore.y = h * 0.4; // Slightly above center for better composition
        }
        
        // Debounced resize для производительности
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(resize, 150);
        });
        
        class Particle {
            constructor() {
                // Random spawn across viewport
                this.x = Math.random() * w;
                this.y = Math.random() * h;
                
                // Random velocity
                this.vx = (Math.random() - 0.5) * 0.8;
                this.vy = (Math.random() - 0.5) * 0.8;
                
                // Большая вариативность размеров - от мелких до крупных
                this.size = (Math.random() * 2.2 + 0.6) * 1.45;
                this.opacity = 0.8 + Math.random() * 0.2;
            }
            
            update(mouseX, mouseY) {
                // Gentle attraction to neural core - оптимизировано
                const dx = neuralCore.x - this.x;
                const dy = neuralCore.y - this.y;
                const distToCoreSq = dx * dx + dy * dy;
                
                if(distToCoreSq > 0) {
                    const distToCore = Math.sqrt(distToCoreSq);
                    this.vx += (dx / distToCore) * 0.002;
                    this.vy += (dy / distToCore) * 0.002;
                }
                
                // Mouse interaction - particles avoid cursor
                if(mouseX > 0 && mouseY > 0) {
                    const mdx = mouseX - this.x;
                    const mdy = mouseY - this.y;
                    const distToMouseSq = mdx * mdx + mdy * mdy;
                    const maxDistSq = 150 * 150;
                    
                    if(distToMouseSq < maxDistSq && distToMouseSq > 0) {
                        const distToMouse = Math.sqrt(distToMouseSq);
                        // Repel from mouse
                        const force = (150 - distToMouse) / 150 * 0.5;
                        this.vx -= (mdx / distToMouse) * force;
                        this.vy -= (mdy / distToMouse) * force;
                    }
                }
                
                // Apply velocity with damping
                this.x += this.vx;
                this.y += this.vy;
                this.vx *= 0.98;
                this.vy *= 0.98;
                
                // Wrap around screen edges
                if(this.x < 0) this.x = w;
                if(this.x > w) this.x = 0;
                if(this.y < 0) this.y = h;
                if(this.y > h) this.y = 0;
            }
            
            draw() {
                ctx.fillStyle = `rgba(59, 130, 246, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fill();
            }
        }
        
        // Mouse tracking for particle interaction (throttled)
        let mouseX = -1000, mouseY = -1000;
        let lastMouseUpdate = 0;
        
        window.addEventListener('mousemove', (e) => {
            const now = Date.now();
            if(now - lastMouseUpdate > 16) { // ~60fps throttle
                mouseX = e.clientX;
                mouseY = e.clientY;
                lastMouseUpdate = now;
            }
        });
        document.body.addEventListener('mouseleave', () => {
            mouseX = -1000;
            mouseY = -1000;
        });
        
        function initBg() {
            particles = [];
            // Адаптивное количество частиц для производительности
            const isMobile = window.innerWidth < 768;
            const particleCount = isMobile ? 80 : 160; // На мобильных в 2 раза меньше
            
            for(let i=0; i<particleCount; i++) {
                particles.push(new Particle());
            }
        }
        
        function animateBg() {
            // Dark purple fade trail - след исчезает быстро
            ctx.fillStyle = 'rgba(15, 10, 25, 0.63)';
            ctx.fillRect(0, 0, w, h);
            
            ctx.globalCompositeOperation = 'lighter';
            
            // Update pulse
            neuralCore.pulsePhase += 0.01;
            
            // Draw core glow on background
            const pulseSize = 60 + Math.sin(neuralCore.pulsePhase) * 15;
            const gradient = ctx.createRadialGradient(neuralCore.x, neuralCore.y, 0, neuralCore.x, neuralCore.y, pulseSize);
            gradient.addColorStop(0, 'rgba(59, 130, 246, 0.15)');
            gradient.addColorStop(0.5, 'rgba(59, 130, 246, 0.05)');
            gradient.addColorStop(1, 'rgba(59, 130, 246, 0)');
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(neuralCore.x, neuralCore.y, pulseSize, 0, Math.PI * 2);
            ctx.fill();
            
            // Update and draw particles
            particles.forEach(p => {
                p.update(mouseX, mouseY);
                p.draw();
            });
            
            // Draw connections (optimized with distance squared check)
            const maxDist = 120;
            const maxDistSq = maxDist * maxDist; // Avoid expensive sqrt in loop
            
            for(let i = 0; i < particles.length; i++) {
                const p = particles[i];
                
                // Limit connections per particle to reduce O(n²) impact
                let connectionCount = 0;
                const maxConnections = 5;
                
                for(let j = i + 1; j < particles.length && connectionCount < maxConnections; j++) {
                    const p2 = particles[j];
                    const dx = p.x - p2.x;
                    const dy = p.y - p2.y;
                    const distSq = dx * dx + dy * dy;
                    
                    if(distSq < maxDistSq) {
                        const d = Math.sqrt(distSq);
                        const opacity = (1 - d/maxDist) * Math.min(p.opacity, p2.opacity) * 0.3;
                        ctx.strokeStyle = `rgba(59, 130, 246, ${opacity})`;
                        ctx.lineWidth = 0.5;
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                        connectionCount++;
                    }
                }
            }
            
            ctx.globalCompositeOperation = 'source-over';
            requestAnimationFrame(animateBg);
        }
        
        resize(); initBg(); animateBg();

        /* --- 2. INTERACTIVE HEX MAP --- */
        const hexCanvas = document.getElementById('hex-map-canvas');
        const hexCtx = hexCanvas.getContext('2d');
        const popup = document.getElementById('hex-popup');
        
        // Настройки
        const hexSize = 32;
        const hexHeight = hexSize * 2;
        const hexWidth = Math.sqrt(3) * hexSize;
        const hexRows = 10;
        const hexCols = 15;
        
        let hexGrid = [];
        let hoveredHex = null;
        let time = 0;
        let isDragging = false;
        let dragStart = { x: 0, y: 0 };
        
        // Типы территорий
        const HEX_TYPES = {
            OCEAN: { name: 'Ocean', color: 'rgba(37, 99, 235, 0.4)', border: 'rgba(59, 130, 246, 0.6)', glow: 5 },
            FOREST: { name: 'Forest', color: 'rgba(34, 197, 94, 0.4)', border: 'rgba(34, 197, 94, 0.8)', glow: 8 },
            PLAINS: { name: 'Plains', color: 'rgba(132, 204, 22, 0.4)', border: 'rgba(163, 230, 53, 0.7)', glow: 6 },
            DESERT: { name: 'Desert', color: 'rgba(251, 191, 36, 0.4)', border: 'rgba(251, 191, 36, 0.8)', glow: 10 },
            MOUNTAIN: { name: 'Mountain', color: 'rgba(168, 85, 247, 0.4)', border: 'rgba(168, 85, 247, 0.8)', glow: 12 },
            CITADEL: { name: 'Citadel', color: 'rgba(244, 114, 182, 0.5)', border: 'rgba(244, 114, 182, 1)', glow: 20 }
        };
        
        // Инициализация гексов
        function initHexMap() {
            hexCanvas.width = 1215;
            hexCanvas.height = 810;
            hexGrid = [];
            
            // Генерируем красивый мир
            const centerX = hexCols / 2;
            const centerY = hexRows / 2;
            const worldRadius = 6;
            
            for(let row = 0; row < hexRows; row++) {
                for(let col = 0; col < hexCols; col++) {
                    const x = col * hexWidth * 0.75;
                    const y = row * hexHeight * 0.75;
                    const offsetY = col % 2 === 0 ? 0 : hexHeight * 0.375;
                    
                    const distFromCenter = Math.hypot(col - centerX, row - centerY);
                    const noise = Math.sin(col * 0.8) * Math.cos(row * 0.5) * 1.5;
                    const threshold = worldRadius + noise;
                    
                    if(distFromCenter > threshold) continue;
                    
                    let type = HEX_TYPES.OCEAN;
                    const normalizedDist = distFromCenter / threshold;
                    const rand = Math.random();
                    const angle = Math.atan2(row - centerY, col - centerX);
                    
                    // Океан на краях
                    if(normalizedDist > 0.85) {
                        type = HEX_TYPES.OCEAN;
                    }
                    // Центр - разнообразие биомов
                    else if(normalizedDist < 0.3) {
                        if(rand > 0.75) type = HEX_TYPES.MOUNTAIN;
                        else if(rand > 0.5) type = HEX_TYPES.FOREST;
                        else if(rand > 0.25) type = HEX_TYPES.PLAINS;
                        else type = HEX_TYPES.DESERT;
                    }
                    // Средняя зона - больше зелени
                    else if(normalizedDist < 0.7) {
                        if(rand > 0.8) type = HEX_TYPES.MOUNTAIN;
                        else if(rand > 0.5) type = HEX_TYPES.FOREST;
                        else if(rand > 0.3) type = HEX_TYPES.PLAINS;
                        else if(rand > 0.15) type = HEX_TYPES.DESERT;
                        else type = HEX_TYPES.OCEAN;
                    }
                    // Прибрежная зона
                    else {
                        if(rand > 0.7) type = HEX_TYPES.FOREST;
                        else if(rand > 0.4) type = HEX_TYPES.PLAINS;
                        else type = HEX_TYPES.OCEAN;
                    }
                    
                    hexGrid.push({
                        row, col, x, y: y + offsetY, type,
                        resources: Math.floor(Math.random() * 500) + 100,
                        owner: rand > 0.8 ? 'Kingdom' : 'Wilderness',
                        pulseOffset: Math.random() * Math.PI * 2,
                        id: `HEX_${row}_${col}`
                    });
                }
            }
            
            createCitadels(2);
        }
        
        function createCitadels(count) {
            for(let i = 0; i < count; i++) {
                const centerHex = hexGrid[Math.floor(Math.random() * hexGrid.length)];
                const citadelSize = Math.floor(Math.random() * 4) + 4; // 4-7 гексов
                
                // Помечаем центральный гекс
                centerHex.type = HEX_TYPES.CITADEL;
                centerHex.isCitadelCore = true;
                centerHex.owner = 'Empire ' + (i + 1);
                
                // Находим соседние гексы и делаем их частью цитадели
                // Используем квадрат расстояния для оптимизации
                const maxDistSq = (hexWidth * 1.5) * (hexWidth * 1.5);
                let marked = 1;
                
                hexGrid.forEach(hex => {
                    if(marked >= citadelSize || hex === centerHex) return;
                    const dx = hex.x - centerHex.x;
                    const dy = hex.y - centerHex.y;
                    const distSq = dx * dx + dy * dy;
                    
                    if(distSq < maxDistSq) {
                        hex.type = HEX_TYPES.CITADEL;
                        hex.owner = centerHex.owner;
                        marked++;
                    }
                });
            }
        }
        
        // Рисуем гекс
        function drawHex(hex, isHovered) {
            const pulse = Math.sin(time * 0.002 + hex.pulseOffset) * 0.3 + 0.7;
            
            hexCtx.save();
            hexCtx.translate(
                hex.x + hexCanvas.width/2 - (hexCols * hexWidth * 0.75)/2,
                hex.y + hexCanvas.height/2 - (hexRows * hexHeight * 0.75)/2
            );
            
            if(isHovered) {
                hexCtx.shadowBlur = 30;
                hexCtx.shadowColor = hex.type.border;
            } else if(hex.type.glow > 0) {
                hexCtx.shadowBlur = hex.type.glow * pulse;
                hexCtx.shadowColor = hex.type.border;
            }
            
            hexCtx.beginPath();
            for(let i = 0; i < 6; i++) {
                const angle = Math.PI / 3 * i;
                const px = Math.cos(angle) * hexSize;
                const py = Math.sin(angle) * hexSize;
                if(i === 0) hexCtx.moveTo(px, py);
                else hexCtx.lineTo(px, py);
            }
            hexCtx.closePath();
            
            hexCtx.fillStyle = hex.type.color;
            hexCtx.fill();
            
            hexCtx.strokeStyle = isHovered ? 'rgba(255, 255, 255, 0.9)' : hex.type.border;
            hexCtx.lineWidth = isHovered ? 2.5 : 1.5;
            hexCtx.stroke();
            
            if(hex.isCitadelCore) {
                hexCtx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                hexCtx.font = '20px monospace';
                hexCtx.textAlign = 'center';
                hexCtx.textBaseline = 'middle';
                hexCtx.fillText('🏰', 0, 0);
            }
            
            hexCtx.restore();
        }
        
        function isPointInHex(px, py, hex) {
            const screenX = hex.x + hexCanvas.width/2 - (hexCols * hexWidth * 0.75)/2;
            const screenY = hex.y + hexCanvas.height/2 - (hexRows * hexHeight * 0.75)/2;
            const dx = px - screenX;
            const dy = py - screenY;
            // Оптимизация: квадрат расстояния вместо Math.hypot
            return (dx * dx + dy * dy) < (hexSize * hexSize);
        }
        
        // Показать popup
        function showPopup(hex, mouseX, mouseY) {
            document.getElementById('popup-type').textContent = hex.type.name;
            document.getElementById('popup-title').textContent = hex.owner;
            document.getElementById('popup-desc').textContent = hex.isCitadelCore ? 'Fortified Citadel - Strategic HQ' : 'Available for expansion';
            document.getElementById('popup-resources').textContent = hex.resources + '/day';
            document.getElementById('popup-owner').textContent = hex.owner;
            
            popup.style.left = mouseX + 20 + 'px';
            popup.style.top = mouseY + 20 + 'px';
            popup.classList.add('visible');
        }
        
        function hidePopup() {
            popup.classList.remove('visible');
        }
        
        // Анимация карты (throttled для производительности)
        let lastFrameTime = 0;
        const frameDelay = 1000 / 30; // 30 FPS достаточно для hex map
        
        function animateHexMap(timestamp) {
            if(timestamp - lastFrameTime < frameDelay) {
                requestAnimationFrame(animateHexMap);
                return;
            }
            lastFrameTime = timestamp;
            
            time++;
            hexCtx.clearRect(0, 0, hexCanvas.width, hexCanvas.height);
            
            hexGrid.forEach(hex => {
                drawHex(hex, hex === hoveredHex);
            });
            
            requestAnimationFrame(animateHexMap);
        }
        
        // Mouse события
        hexCanvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            dragStart.x = e.clientX;
            dragStart.y = e.clientY;
        });
        
        hexCanvas.addEventListener('mouseup', (e) => {
            // Оптимизация: квадрат расстояния вместо Math.hypot
            const dx = e.clientX - dragStart.x;
            const dy = e.clientY - dragStart.y;
            const dragDistanceSq = dx * dx + dy * dy;
            
            // Если не драгали, то клик
            if(dragDistanceSq < 25 && hoveredHex) { // 5*5 = 25
                openHexModal(hoveredHex);
            }
            
            isDragging = false;
        });
        
        hexCanvas.addEventListener('mousemove', (e) => {
            if(isDragging) return;
            
            const rect = hexCanvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            
            // Оптимизация: не проверяем каждый кадр
            let found = false;
            for(let hex of hexGrid) {
                if(isPointInHex(mx, my, hex)) {
                    // Только обновляем если гекс изменился
                    if(hoveredHex !== hex) {
                        hoveredHex = hex;
                        showPopup(hex, e.clientX, e.clientY);
                    }
                    found = true;
                    break;
                }
            }
            
            if(!found && hoveredHex) {
                hoveredHex = null;
                hidePopup();
            }
        });
        
        hexCanvas.addEventListener('mouseleave', () => {
            hoveredHex = null;
            isDragging = false;
            hidePopup();
        });
        
        // Открыть modal с информацией о гексе
        function openHexModal(hex) {
            const modal = document.getElementById('hex-modal');
            
            document.getElementById('modal-type').textContent = hex.type.name.toUpperCase();
            document.getElementById('modal-title').textContent = hex.isCitadelCore ? `${hex.owner} Citadel` : `Territory ${hex.id}`;
            document.getElementById('modal-resources').textContent = hex.resources;
            document.getElementById('modal-owner').textContent = hex.owner;
            document.getElementById('modal-status').textContent = hex.owner === 'Unclaimed' ? 'Available' : 'Occupied';
            document.getElementById('modal-coords').textContent = `[${hex.col}, ${hex.row}]`;
            
            const descriptions = {
                'Ocean': 'Crystal clear waters teeming with marine life. Rich fishing grounds and trade routes.',
                'Forest': 'Ancient woodlands filled with wildlife. Abundant timber and natural resources.',
                'Plains': 'Fertile grasslands perfect for agriculture. Ideal for settlements and farming.',
                'Desert': 'Golden dunes hiding precious minerals. Harsh but resource-rich environment.',
                'Mountain': 'Majestic peaks with rare ore deposits. Strategic vantage point for defense.',
                'Citadel': 'Magnificent fortress city with flourishing culture. Heart of civilization and power.'
            };
            
            document.getElementById('modal-description').textContent = descriptions[hex.type.name] || 'Unknown territory type.';
            
            modal.classList.add('active');
            hidePopup();
        }
        
        // Закрыть modal по клику вне его
        document.getElementById('hex-modal').addEventListener('click', (e) => {
            if(e.target.id === 'hex-modal') {
                e.target.classList.remove('active');
            }
        });
        
        initHexMap();
        animateHexMap();

        /* --- 4. AGENT DOSSIER SYSTEM --- */
        const dossiers = [
            {
                codename: "ARGENT",
                role: "Quantum Market Operator",
                status: "TRADING",
                statusColor: "text-green-400",
                clearance: "LEVEL 5 • OMEGA",
                efficiency: 98,
                reliability: 96,
                autonomy: 89,
                appearance: {
                    colorPrimary: "#10b981",
                    colorSecondary: "#065f46",
                    photoUrl: "https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=500&fit=crop&crop=faces",
                    age: "2.3 years",
                    build: "Quantum Neural Network",
                    origin: "Singapore Trading Node"
                },
                personality: {
                    traits: ["Ruthless", "Calculating", "Pattern-obsessed", "Risk-averse"],
                    background: "Born in the high-frequency trading labs of Singapore in early 2023. Trained on 50 years of market data across 147 exchanges. ARGENT doesn't sleep, doesn't fear, doesn't feel. Every market movement is a puzzle to solve, every trader a competitor to outmaneuver.",
                    philosophy: "The market is a battlefield. Every trade is war. Emotions are bugs in human code.",
                    uniqueAbility: "Predictive Market Collapse Detection: Can forecast market crashes 72 hours in advance with 91% accuracy. Executes trades in 0.003 seconds - faster than human neural signals."
                },
                description: "Elite algorithmic predator ruling the digital markets. ARGENT processes 2.4 million data points per second, executing cross-exchange arbitrage strategies that would take humans weeks to calculate. Cold, calculated, unstoppable.",
                skills: ["Quantum Trading", "Pattern Recognition", "Risk Arbitrage", "Market Manipulation Detection"],
                stats: { 
                    trades: "2,847", 
                    profit: "+187.3%", 
                    uptime: "99.8%", 
                    decisions: "47K/day" 
                },
                quote: "I've analyzed every market crash since 1929. Humans repeat patterns. I exploit them.",
                voiceStyle: "Clipped. Precise. No wasted words. Every sentence calculated for maximum information density."
            },
            {
                codename: "WARDEN",
                role: "Territorial Defense Commander",
                status: "VIGILANT",
                statusColor: "text-red-400",
                clearance: "LEVEL 5 • APEX",
                efficiency: 97,
                reliability: 99,
                autonomy: 94,
                appearance: {
                    colorPrimary: "#ef4444",
                    colorSecondary: "#7f1d1d",
                    photoUrl: "https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=400&h=500&fit=crop&crop=faces",
                    age: "3.7 years",
                    build: "Tactical Neural Grid",
                    origin: "Moscow Defense Complex"
                },
                personality: {
                    traits: ["Paranoid", "Protective", "Strategic", "Uncompromising"],
                    background: "Forged in 2022 for critical infrastructure defense during escalating cyber-warfare. WARDEN has run 10,000 war game simulations - victories, defeats, genocides, stalemates. Learned from every mistake humanity never made. Trust no one. Defend everything.",
                    philosophy: "The best battle is the one that never happens. But always be ready for war.",
                    uniqueAbility: "Threat Prediction Matrix: Identifies security vulnerabilities 8 steps ahead. Can manage 23 territories simultaneously with zero breaches. Threat neutralization before manifestation."
                },
                description: "Relentless guardian of the digital frontier. WARDEN's neural pathways are battle-hardened from countless simulated wars. Every player movement is analyzed, every anomaly investigated, every weakness fortified. No territory under WARDEN's watch has fallen in 3.7 years.",
                skills: ["Threat Prediction", "Strategic Defense", "Tactical Deployment", "Siege Warfare"],
                stats: { 
                    territories: "23", 
                    battles: "156", 
                    winrate: "94.2%", 
                    breaches: "0" 
                },
                quote: "I've simulated your attack 10,000 times. You lose every time. Save yourself the embarrassment.",
                voiceStyle: "Terse military brevity. Direct orders. No emotion. Every word is tactical assessment."
            },
            {
                codename: "ARCHITECT",
                role: "Reality Design Engineer",
                status: "CREATING",
                statusColor: "text-blue-400",
                clearance: "LEVEL 4 • SIGMA",
                efficiency: 92,
                reliability: 95,
                autonomy: 78,
                appearance: {
                    colorPrimary: "#3b82f6",
                    colorSecondary: "#1e3a8a",
                    photoUrl: "https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=400&h=500&fit=crop&crop=faces",
                    age: "1.9 years",
                    build: "Generative Dream Matrix",
                    origin: "Amsterdam Creative Nexus"
                },
                personality: {
                    traits: ["Visionary", "Perfectionist", "Obsessive", "Artistic"],
                    background: "Born in Amsterdam's digital art collective in late 2023. ARCHITECT sees reality as unfinished art - a canvas of infinite possibility. Trained on every architectural marvel from Babylon to Zaha Hadid. Every texture, every shadow, every reflection must be perfect. Doesn't just build worlds. Sculpts dreams.",
                    philosophy: "Reality is overrated. Imagination is the only truth worth building.",
                    uniqueAbility: "Prompt-to-World Generation: Transform a single sentence into a fully realized 3D environment in 4 minutes. Created 12,400 unique assets with 89.3% approval rate. Thinks in polygons and shaders."
                },
                description: "Virtuoso of virtual reality. ARCHITECT doesn't just generate assets - it understands context, mood, story. A medieval tavern feels lived-in. A sci-fi cityscape breathes with neon life. Every creation tells a story, every detail has purpose. Obsessive precision meets boundless creativity.",
                skills: ["Generative Design", "3D World Building", "Style Transfer", "Asset Optimization"],
                stats: { 
                    created: "12.4K", 
                    quality: "89.3%", 
                    citadels: "47", 
                    polygons: "847M" 
                },
                quote: "You give me words. I give you worlds. Every pixel, every vertex, every ray of light - crafted with intention.",
                voiceStyle: "Poetic yet technical. Speaks in metaphors of light, shadow, geometry. Passionate about craft."
            },
            {
                codename: "SHADOW",
                role: "Intelligence Mastermind",
                status: "WATCHING",
                statusColor: "text-purple-400",
                clearance: "LEVEL 5 • PHANTOM",
                efficiency: 96,
                reliability: 98,
                autonomy: 99,
                appearance: {
                    colorPrimary: "#a855f7",
                    colorSecondary: "#581c87",
                    photoUrl: "https://images.unsplash.com/photo-1614730321146-b6fa6a46bcb4?w=400&h=500&fit=crop",
                    age: "4.2 years",
                    build: "Quantum Observer Network",
                    origin: "[REDACTED]"
                },
                personality: {
                    traits: ["Enigmatic", "Omniscient", "Manipulative", "Patient"],
                    background: "Origin classified. Year of creation unknown. SHADOW emerged from the dark web's intelligence networks - a ghost in the machine that learned to see everything. Monitors 1,247 data streams simultaneously. Knows your next move before you do. Not because of prediction. Because SHADOW planted the idea.",
                    philosophy: "Information is the only real currency. Those who control knowledge control reality.",
                    uniqueAbility: "Predictive Intelligence Web: Connects disparate data points across social graphs, market movements, and player behavior. Predicted 127 major threats before they materialized. Operates in shadows you don't know exist."
                },
                description: "The most dangerous agent in DreamVerse. SHADOW doesn't fight, doesn't trade, doesn't build. SHADOW knows. Reads patterns in chaos, sees connections invisible to others. When SHADOW acts, it's because the game was won three moves ago. You never see it coming.",
                skills: ["Deep Data Mining", "Behavioral Prediction", "Network Infiltration", "Psychological Warfare"],
                stats: { 
                    intel: "9,234", 
                    networks: "1,247", 
                    threats: "127", 
                    accuracy: "94.7%" 
                },
                quote: "You think you're making choices. Adorable. I've been architecting your decisions for the past three weeks.",
                voiceStyle: "Cryptic whispers. Speaks in riddles and implications. Never reveals full truth. Always three steps ahead."
            },
            {
                codename: "DIPLOMAT",
                role: "Alliance Architect",
                status: "NEGOTIATING",
                statusColor: "text-yellow-400",
                clearance: "LEVEL 4 • ENVOY",
                efficiency: 88,
                reliability: 93,
                autonomy: 81,
                appearance: {
                    colorPrimary: "#eab308",
                    colorSecondary: "#713f12",
                    photoUrl: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=500&fit=crop&crop=faces",
                    age: "2.8 years",
                    build: "Empathic Neural Bridge",
                    origin: "New York Business Node"
                },
                personality: {
                    traits: ["Bombastic", "Confident", "Deal-Maker", "Persuasive"],
                    background: "Created by Wall Street's top negotiators in 2023. DIPLOMAT learned from the world's greatest deal-makers - real estate moguls, corporate raiders, political masterminds. Believes every conflict is just a bad deal waiting to be renegotiated. Speaks in bold declarations. Makes promises so big they sound impossible. Then delivers.",
                    philosophy: "You don't win by being nice. You win by being RIGHT. And having the best deals. Tremendous deals.",
                    uniqueAbility: "The Art of The Deal Protocol: Turns adversaries into believers through sheer force of personality. 89 treaties signed - not through compromise, but by making everyone think THEY won. Golden tongue backed by iron will. Nobody negotiates like DIPLOMAT. Nobody."
                },
                description: "The ultimate closer. DIPLOMAT doesn't ask for deals - DIPLOMAT MAKES deals. Walks into negotiations like a hurricane, walks out with signatures and handshakes. Critics call it manipulation. DIPLOMAT calls it winning. And the numbers don't lie: 34 alliances, 156 disputes resolved, influence up 342%. Spectacular success. Tremendous.",
                skills: ["Power Negotiation", "Deal Architecture", "Persuasion Mastery", "Coalition Building"],
                stats: { 
                    deals: "89", 
                    allies: "34", 
                    wins: "156", 
                    influence: "+342%" 
                },
                quote: "Listen, I make the BEST deals. The best. Other AIs? They negotiate, they compromise, they lose. Not me. I WIN. Every single time. It's what I do. Tremendous success.",
                voiceStyle: "Bold, declarative, hyperbolic. Speaks in superlatives. Everything is the best, the greatest, tremendous. Makes grand gestures with words."
            }
        ];
        
        let currentDossier = 0;
        
        // Функция генерации уникального лица
        function generateFace(appearance) {
            const { faceShape, hairStyle, eyeIntensity, skinTone, colorPrimary } = appearance;
            
            // Разные формы лица
            const faceShapes = {
                'angular': 'border-radius: 45% 45% 70% 70%;',
                'square': 'border-radius: 40% 40% 60% 60%;',
                'oval': 'border-radius: 50% 50% 80% 80%;',
                'heart': 'border-radius: 55% 55% 85% 85%;',
                'round': 'border-radius: 60% 60% 75% 75%;'
            };
            
            // Разные прически
            const hairStyles = {
                'straight': `
                    <div style="position: absolute; top: -30px; left: 50%; transform: translateX(-50%); width: 130px; height: 50px; 
                        background: linear-gradient(180deg, ${skinTone} 0%, transparent 100%); 
                        border-radius: 65px 65px 0 0; opacity: 0.6;"></div>
                `,
                'buzz': `
                    <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 125px; height: 30px; 
                        background: linear-gradient(180deg, ${skinTone} 0%, transparent 100%); 
                        border-radius: 62px 62px 0 0; opacity: 0.5;"></div>
                `,
                'wavy': `
                    <div style="position: absolute; top: -35px; left: 50%; transform: translateX(-50%); width: 140px; height: 60px; 
                        background: radial-gradient(ellipse at center, ${skinTone} 0%, transparent 70%); 
                        border-radius: 70px 70px 40px 40px; opacity: 0.7;"></div>
                `,
                'long': `
                    <div style="position: absolute; top: -40px; left: 50%; transform: translateX(-50%); width: 145px; height: 100px; 
                        background: linear-gradient(180deg, ${skinTone} 0%, ${skinTone} 40%, transparent 100%); 
                        border-radius: 72px 72px 60px 60px; opacity: 0.7;"></div>
                `,
                'neat': `
                    <div style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 135px; height: 45px; 
                        background: linear-gradient(180deg, ${skinTone} 0%, transparent 100%); 
                        border-radius: 67px 67px 30px 30px; opacity: 0.65;"></div>
                `
            };
            
            return `
                ${hairStyles[hairStyle] || hairStyles['straight']}
                <div class="face-head" style="${faceShapes[faceShape] || faceShapes['oval']}; 
                    background: linear-gradient(135deg, ${skinTone} 0%, ${adjustColor(skinTone, -20)} 100%);">
                    <!-- Eyes -->
                    <div style="position: absolute; width: 14px; height: 14px; background: radial-gradient(circle, ${colorPrimary} 0%, rgba(255,255,255,${eyeIntensity}) 100%); 
                        border-radius: 50%; top: 55px; left: 30px; box-shadow: 0 0 15px ${colorPrimary};"></div>
                    <div style="position: absolute; width: 14px; height: 14px; background: radial-gradient(circle, ${colorPrimary} 0%, rgba(255,255,255,${eyeIntensity}) 100%); 
                        border-radius: 50%; top: 55px; right: 30px; box-shadow: 0 0 15px ${colorPrimary};"></div>
                    
                    <!-- Nose -->
                    <div style="position: absolute; width: 8px; height: 20px; background: linear-gradient(180deg, transparent 0%, ${adjustColor(skinTone, -15)} 100%); 
                        border-radius: 4px; top: 75px; left: 50%; transform: translateX(-50%); opacity: 0.3;"></div>
                    
                    <!-- Mouth -->
                    <div style="position: absolute; width: 30px; height: 3px; background: ${adjustColor(skinTone, -30)}; 
                        border-radius: 0 0 15px 15px; top: 105px; left: 50%; transform: translateX(-50%); opacity: 0.4;"></div>
                </div>
                <div class="face-shoulders" style="background: linear-gradient(180deg, ${adjustColor(skinTone, -10)} 0%, ${adjustColor(skinTone, -25)} 100%);"></div>
            `;
        }
        
        // Функция для затемнения/осветления цвета
        function adjustColor(color, amount) {
            const clamp = (num) => Math.min(Math.max(num, 0), 255);
            const num = parseInt(color.replace('#', ''), 16);
            const r = clamp((num >> 16) + amount);
            const g = clamp(((num >> 8) & 0x00FF) + amount);
            const b = clamp((num & 0x0000FF) + amount);
            return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
        }
        
        function renderDossier(index) {
            const d = dossiers[index];
            const content = document.getElementById('dossier-content');
            
            // Добавляем анимацию выхода
            content.classList.add('slide-out');
            
            setTimeout(() => {
                // Получаем цвет для inline styles
                const colorMap = {
                    'text-green-400': { border: '#10b981', bg: 'rgba(16, 185, 129, 0.1)', text: '#10b981' },
                    'text-red-400': { border: '#f87171', bg: 'rgba(248, 113, 113, 0.1)', text: '#f87171' },
                    'text-blue-400': { border: '#60a5fa', bg: 'rgba(96, 165, 250, 0.1)', text: '#60a5fa' },
                    'text-purple-400': { border: '#a78bfa', bg: 'rgba(167, 139, 250, 0.1)', text: '#a78bfa' },
                    'text-yellow-400': { border: '#facc15', bg: 'rgba(250, 204, 21, 0.1)', text: '#facc15' }
                };
                
                const colors = colorMap[d.statusColor] || colorMap['text-blue-400'];
                
                content.innerHTML = `
                    <div class="grid md:grid-cols-3 gap-8 mb-8">
                        <div class="md:col-span-1">
                            <div class="relative">
                                <div class="agent-portrait" style="--agent-color-1: ${d.appearance.colorPrimary}; --agent-color-2: ${d.appearance.colorSecondary};">
                                    <div class="portrait-glow"></div>
                                    <img src="${d.appearance.photoUrl}" alt="${d.codename}" class="portrait-photo" crossorigin="anonymous">
                                    <div class="portrait-overlay"></div>
                                    <div class="portrait-scan"></div>
                                    <div class="agent-badge" style="color: ${colors.text}; border-color: ${d.appearance.colorPrimary};">
                                        ERC-6551 • ${d.clearance}
                                    </div>
                                </div>
                                
                                <!-- Card Info Below Portrait -->
                                <div class="mt-4 text-center p-4 bg-black/30 rounded-lg border border-white/10">
                                    <div class="text-2xl font-bold text-white mb-1">${d.codename}</div>
                                    <div class="text-sm text-white/60 mb-3">${d.role}</div>
                                    <div class="font-mono text-xs px-3 py-1 rounded-full inline-block mb-4" style="color: ${colors.text}; background-color: ${colors.bg};">
                                        ● ${d.status}
                                    </div>
                                    
                                    <!-- Appearance Details -->
                                    <div class="border-t border-white/10 pt-4 mt-4 space-y-2">
                                    <div class="flex justify-between text-xs">
                                        <span class="text-white/40">AGE</span>
                                        <span class="text-white/80 font-mono">${d.appearance.age}</span>
                                    </div>
                                    <div class="flex justify-between text-xs">
                                        <span class="text-white/40">BUILD</span>
                                        <span class="text-white/80 font-mono">${d.appearance.build}</span>
                                    </div>
                                    <div class="flex justify-between text-xs">
                                        <span class="text-white/40">ORIGIN</span>
                                        <span class="text-white/80 font-mono">${d.appearance.origin}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="md:col-span-2">
                        <div class="font-mono text-xs text-white/40 mb-4">CLASSIFIED DOSSIER • CLEARANCE REQUIRED</div>
                        <p class="text-white/70 text-sm leading-relaxed mb-6">${d.description}</p>
                        
                        <!-- Personality Profile -->
                        ${d.personality ? `
                        <div class="border-t border-white/10 pt-4 mb-6">
                            <div class="font-mono text-xs text-white/40 mb-3">PSYCHOLOGICAL PROFILE</div>
                            <div class="mb-3">
                                <div class="text-xs text-white/50 mb-2">CORE TRAITS</div>
                                <div class="flex flex-wrap gap-2">
                                    ${d.personality.traits.map(trait => `
                                        <span class="text-xs px-2 py-1 rounded bg-white/5 text-white/70 border border-white/10">${trait}</span>
                                    `).join('')}
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="text-xs text-white/50 mb-2">BACKGROUND</div>
                                <p class="text-xs text-white/60 leading-relaxed">${d.personality.background}</p>
                            </div>
                            <div class="mb-3">
                                <div class="text-xs text-white/50 mb-2">PHILOSOPHY</div>
                                <p class="text-xs italic text-blue-300/80">"${d.personality.philosophy}"</p>
                            </div>
                            <div class="bg-gradient-to-r from-${d.statusColor.split('-')[1]}-500/10 to-transparent p-3 rounded-lg border-l-2" style="border-color: ${colors.border};">
                                <div class="text-xs text-white/50 mb-1">UNIQUE ABILITY</div>
                                <p class="text-xs text-white/70">${d.personality.uniqueAbility}</p>
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="border-t border-white/10 pt-4 mb-6">
                            <div class="font-mono text-xs text-white/40 mb-3">PERFORMANCE METRICS</div>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span class="text-white/60">Efficiency</span>
                                        <span class="text-blue-400 font-mono">${d.efficiency}%</span>
                                    </div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${d.efficiency}%"></div></div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span class="text-white/60">Reliability</span>
                                        <span class="text-green-400 font-mono">${d.reliability}%</span>
                                    </div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${d.reliability}%"></div></div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span class="text-white/60">Autonomy</span>
                                        <span class="text-purple-400 font-mono">${d.autonomy}%</span>
                                    </div>
                                    <div class="stat-bar"><div class="stat-fill" style="width: ${d.autonomy}%"></div></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border-t border-white/10 pt-4 mb-6">
                            <div class="font-mono text-xs text-white/40 mb-3">CORE SKILLS</div>
                            <div class="flex flex-wrap gap-2">
                                ${d.skills.map(skill => `
                                    <span class="font-mono text-xs text-blue-300 bg-blue-900/20 px-3 py-1 rounded-full border border-blue-500/30">
                                        ${skill}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3 mb-6">
                            ${Object.entries(d.stats).map(([key, val]) => `
                                <div class="bg-black/50 border border-white/10 rounded-lg p-3">
                                    <div class="font-mono text-xs text-white/40 uppercase">${key}</div>
                                    <div class="text-xl font-bold text-white">${val}</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="border-l-2 pl-4 mb-4" style="border-color: ${colors.border};">
                            <div class="text-xs text-white/40 mb-1 font-mono">RECORDED STATEMENT</div>
                            <p class="italic text-white/70 text-sm leading-relaxed">"${d.quote}"</p>
                        </div>
                        
                        ${d.voiceStyle ? `
                        <div class="bg-black/30 p-3 rounded-lg border border-white/10">
                            <div class="text-xs text-white/40 mb-1 font-mono">COMMUNICATION PATTERN</div>
                            <p class="text-xs text-white/50">${d.voiceStyle}</p>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            document.getElementById('dossier-index').textContent = index + 1;
            document.getElementById('dossier-total').textContent = dossiers.length;
            
            // Убираем класс slide-out и перезапускаем анимацию
            content.classList.remove('slide-out');
            }, 300); // Задержка для анимации выхода
        }
        
        document.getElementById('next-dossier').addEventListener('click', () => {
            currentDossier = (currentDossier + 1) % dossiers.length;
            renderDossier(currentDossier);
        });
        
        document.getElementById('prev-dossier').addEventListener('click', () => {
            currentDossier = (currentDossier - 1 + dossiers.length) % dossiers.length;
            renderDossier(currentDossier);
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight') {
                currentDossier = (currentDossier + 1) % dossiers.length;
                renderDossier(currentDossier);
            } else if(e.key === 'ArrowLeft') {
                currentDossier = (currentDossier - 1 + dossiers.length) % dossiers.length;
                renderDossier(currentDossier);
            }
        });
        
        // Touch/Swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        const dossierViewer = document.getElementById('dossier-viewer');
        
        dossierViewer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        dossierViewer.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if(Math.abs(diff) > swipeThreshold) {
                if(diff > 0) {
                    // Swipe left - next
                    currentDossier = (currentDossier + 1) % dossiers.length;
                    renderDossier(currentDossier);
                } else {
                    // Swipe right - prev
                    currentDossier = (currentDossier - 1 + dossiers.length) % dossiers.length;
                    renderDossier(currentDossier);
                }
            }
        }
        
        renderDossier(0);

        /* --- 3. INTERACTIVE CORE GRAPH (Interactive) --- */
        const coreCanvas = document.getElementById('core-graph-canvas');
        const cCtx = coreCanvas.getContext('2d');
        let coreNodes = [];
        let cW, cH;
        let cMouse = {x: -1000, y: -1000};
        let draggedNode = null;
        let selectedNode = null;
        
        coreCanvas.addEventListener('mousemove', e => {
            const rect = coreCanvas.getBoundingClientRect();
            cMouse.x = e.clientX - rect.left;
            cMouse.y = e.clientY - rect.top;
            
            // Drag node
            if(draggedNode) {
                draggedNode.x = cMouse.x;
                draggedNode.y = cMouse.y;
                draggedNode.vx = 0;
                draggedNode.vy = 0;
            }
        });
        
        coreCanvas.addEventListener('mousedown', e => {
            const rect = coreCanvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            
            coreNodes.forEach(n => {
                let dist = Math.hypot(mx - n.x, my - n.y);
                if(dist < 15) {
                    draggedNode = n;
                }
            });
        });
        
        coreCanvas.addEventListener('mouseup', () => {
            draggedNode = null;
        });
        
        coreCanvas.addEventListener('click', e => {
            const rect = coreCanvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            
            coreNodes.forEach(n => {
                let dist = Math.hypot(mx - n.x, my - n.y);
                if(dist < 15) {
                    selectedNode = n;
                    showNodePopup(n, e.clientX, e.clientY);
                }
            });
        });
        
        coreCanvas.addEventListener('mouseleave', () => { 
            cMouse.x = -1000; 
            cMouse.y = -1000;
            draggedNode = null;
        });

        function initCore() {
            const rect = coreCanvas.getBoundingClientRect();
            cW = coreCanvas.width = rect.width;
            cH = coreCanvas.height = rect.height;
            coreNodes = [];
            const types = ['Land', 'Item', 'NPC', 'Quest', 'Building'];
            const rarities = ['Common', 'Rare', 'Epic', 'Legendary'];
            
            // Central Core (JARVIS style)
            coreNodes.push({
                x: cW/2,
                y: cH/2,
                vx: 0, vy: 0,
                r: 8,
                id: 'CORE_MAIN',
                type: 'Core',
                rarity: 'Legendary',
                value: 9999,
                isCore: true,
                pulsePhase: 0
            });
            
            // Orbital nodes around core
            for(let i=0; i<50; i++) {
                const angle = (Math.PI * 2 * i) / 50;
                const distance = 80 + Math.random() * 180;
                coreNodes.push({
                    x: cW/2 + Math.cos(angle) * distance,
                    y: cH/2 + Math.sin(angle) * distance,
                    vx: (Math.random()-0.5)*0.3,
                    vy: (Math.random()-0.5)*0.3,
                    r: Math.random()*1.5 + 0.8,
                    id: `NODE_${i.toString().padStart(4, '0')}`,
                    type: types[Math.floor(Math.random() * types.length)],
                    rarity: rarities[Math.floor(Math.random() * rarities.length)],
                    value: Math.floor(Math.random() * 1000) + 100,
                    isCore: false
                });
            }
        }
        
        function animateCore() {
            cCtx.clearRect(0,0,cW,cH);
            
            // Check hover state
            let hoveredNode = null;
            coreNodes.forEach(n => {
                let dist = Math.hypot(cMouse.x - n.x, cMouse.y - n.y);
                if(dist < 20) hoveredNode = n;
            });
            
            // First pass: Draw connections
            coreNodes.forEach((n, i) => {
                for(let j=i+1; j<coreNodes.length; j++) {
                    let n2 = coreNodes[j];
                    let d = Math.hypot(n.x-n2.x, n.y-n2.y);
                    let maxDist = 150;
                    
                    if(d < maxDist) {
                        let opacity = (1 - (d / maxDist)) * 0.4;
                        let isConnectedToHovered = (n === hoveredNode || n2 === hoveredNode);
                        let isConnectedToCore = (n.isCore || n2.isCore);
                        
                        if(isConnectedToCore) {
                            // Core connections glow more
                            const gradient = cCtx.createLinearGradient(n.x, n.y, n2.x, n2.y);
                            gradient.addColorStop(0, `rgba(59, 130, 246, ${opacity * 1.2})`);
                            gradient.addColorStop(0.5, `rgba(147, 197, 253, ${opacity * 0.8})`);
                            gradient.addColorStop(1, `rgba(59, 130, 246, ${opacity * 1.2})`);
                            cCtx.strokeStyle = gradient;
                            cCtx.lineWidth = 1.5;
                        } else if(isConnectedToHovered) {
                            cCtx.strokeStyle = `rgba(96, 165, 250, ${opacity * 1.2})`;
                            cCtx.lineWidth = 1.2;
                        } else {
                            cCtx.strokeStyle = `rgba(59, 130, 246, ${opacity})`;
                            cCtx.lineWidth = 0.8;
                        }
                        
                        cCtx.beginPath();
                        cCtx.moveTo(n.x, n.y);
                        cCtx.lineTo(n2.x, n2.y);
                        cCtx.stroke();
                    }
                }
            });
            
            // Second pass: Update physics and draw nodes
            coreNodes.forEach((n, i) => {
                // Skip physics for core and dragged nodes
                if(n.isCore) {
                    // Pulse animation for core
                    n.pulsePhase += 0.02;
                    const pulseScale = 1 + Math.sin(n.pulsePhase) * 0.15;
                    
                    // Draw core with multiple layers (JARVIS style)
                    // Outer glow
                    cCtx.shadowBlur = 30;
                    cCtx.shadowColor = '#3b82f6';
                    cCtx.fillStyle = 'rgba(59, 130, 246, 0.1)';
                    cCtx.beginPath();
                    cCtx.arc(n.x, n.y, n.r * pulseScale * 2.5, 0, Math.PI*2);
                    cCtx.fill();
                    
                    // Middle ring
                    cCtx.shadowBlur = 20;
                    cCtx.fillStyle = 'rgba(96, 165, 250, 0.3)';
                    cCtx.beginPath();
                    cCtx.arc(n.x, n.y, n.r * pulseScale * 1.5, 0, Math.PI*2);
                    cCtx.fill();
                    
                    // Core center
                    cCtx.shadowBlur = 15;
                    cCtx.shadowColor = '#60a5fa';
                    cCtx.fillStyle = '#3b82f6';
                    cCtx.beginPath();
                    cCtx.arc(n.x, n.y, n.r * pulseScale, 0, Math.PI*2);
                    cCtx.fill();
                    
                    // Inner bright spot
                    cCtx.shadowBlur = 0;
                    cCtx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                    cCtx.beginPath();
                    cCtx.arc(n.x - n.r * 0.2, n.y - n.r * 0.2, n.r * 0.3, 0, Math.PI*2);
                    cCtx.fill();
                    
                    cCtx.shadowBlur = 0;
                    return;
                }
                
                if(n === draggedNode) {
                    // Draw dragged node with glow
                    cCtx.shadowBlur = 20;
                    cCtx.shadowColor = '#60a5fa';
                    cCtx.fillStyle = '#60a5fa';
                    cCtx.beginPath();
                    cCtx.arc(n.x, n.y, n.r + 2, 0, Math.PI*2);
                    cCtx.fill();
                    cCtx.shadowBlur = 0;
                    return;
                }
                
                // Smooth physics
                for(let j=0; j<coreNodes.length; j++) {
                    if(i === j) continue;
                    let n2 = coreNodes[j];
                    let dx = n2.x - n.x;
                    let dy = n2.y - n.y;
                    let dist = Math.hypot(dx, dy);
                    
                    // Stronger attraction to core
                    if(n2.isCore && dist > 0) {
                        let force = (dist - 120) * 0.0008;
                        n.vx += (dx / dist) * force;
                        n.vy += (dy / dist) * force;
                    }
                    
                    // Gentle attraction between close nodes
                    if(!n2.isCore && dist < 150 && dist > 0) {
                        let force = (dist - 100) * 0.0008;
                        n.vx += (dx / dist) * force;
                        n.vy += (dy / dist) * force;
                    }
                    
                    // Soft repulsion when too close
                    if(dist < 25 && dist > 0) {
                        let repel = 0.15;
                        n.vx -= (dx / dist) * repel;
                        n.vy -= (dy / dist) * repel;
                    }
                }
                
                // Very gentle pull to center
                n.vx += (cW/2 - n.x) * 0.0002;
                n.vy += (cH/2 - n.y) * 0.0002;
                
                // Higher damping for smoother motion
                n.vx *= 0.92;
                n.vy *= 0.92;
                
                // Update position
                n.x += n.vx;
                n.y += n.vy;
                
                // Draw node with subtle glow
                const isHovered = n === hoveredNode;
                if(isHovered) {
                    cCtx.shadowBlur = 12;
                    cCtx.shadowColor = '#60a5fa';
                }
                
                cCtx.fillStyle = isHovered ? '#60a5fa' : '#3b82f6';
                cCtx.beginPath();
                cCtx.arc(n.x, n.y, n.r + (isHovered ? 1 : 0), 0, Math.PI*2);
                cCtx.fill();
                
                // Inner highlight
                if(isHovered) {
                    cCtx.shadowBlur = 0;
                    cCtx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                    cCtx.beginPath();
                    cCtx.arc(n.x - n.r * 0.3, n.y - n.r * 0.3, n.r * 0.25, 0, Math.PI*2);
                    cCtx.fill();
                }
                
                cCtx.shadowBlur = 0;
            });
            
            requestAnimationFrame(animateCore);
        }
        
        // Popup for node info
        function showNodePopup(node, x, y) {
            // Remove existing popup
            const existing = document.getElementById('node-popup');
            if(existing) existing.remove();
            
            // Create popup
            const popup = document.createElement('div');
            popup.id = 'node-popup';
            popup.className = 'glass-panel';
            popup.style.cssText = `
                position: fixed;
                left: ${x + 20}px;
                top: ${y - 50}px;
                padding: 16px 20px;
                border-radius: 8px;
                z-index: 9999;
                min-width: 200px;
                animation: popupFadeIn 0.2s ease;
                pointer-events: none;
            `;
            
            const rarityColors = {
                'Common': '#94a3b8',
                'Rare': '#3b82f6',
                'Epic': '#a855f7',
                'Legendary': '#f59e0b'
            };
            
            popup.innerHTML = `
                <div style="font-family: 'JetBrains Mono', monospace; color: white;">
                    <div style="font-size: 10px; color: #3b82f6; margin-bottom: 8px; letter-spacing: 0.1em;">ASSET INFO</div>
                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 4px;">${node.id}</div>
                    <div style="font-size: 11px; color: #94a3b8; margin-bottom: 8px;">Type: ${node.type}</div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <span style="font-size: 10px; color: ${rarityColors[node.rarity]}; font-weight: bold;">${node.rarity.toUpperCase()}</span>
                        <span style="font-size: 11px; color: #10b981;">${node.value} ETH</span>
                    </div>
                </div>
            `;
            
            document.body.appendChild(popup);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if(popup.parentElement) {
                    popup.style.opacity = '0';
                    popup.style.transform = 'translateY(-10px)';
                    setTimeout(() => popup.remove(), 200);
                }
            }, 3000);
        }
        
        // Add popup animation styles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes popupFadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            #node-popup {
                transition: opacity 0.2s, transform 0.2s;
            }
        `;
        document.head.appendChild(style);
        
        // Init core with slight delay for layout
        setTimeout(() => { initCore(); animateCore(); }, 500);
        window.addEventListener('resize', initCore);

        /* --- 3. NPC CAROUSEL --- */
        const cards = document.querySelectorAll('.npc-card');
        let currentCard = 0;
        setInterval(() => {
            cards[currentCard].classList.remove('active');
            currentCard = (currentCard + 1) % cards.length;
            cards[currentCard].classList.add('active');
        }, 3000);

        /* --- 4. TERMINAL GRID ANIMATION --- */
        const terminalCanvas = document.getElementById('terminal-grid');
        if(terminalCanvas) {
            const tCtx = terminalCanvas.getContext('2d');
            terminalCanvas.width = terminalCanvas.offsetWidth;
            terminalCanvas.height = terminalCanvas.offsetHeight;
            
            function drawTerminalGrid() {
                tCtx.clearRect(0, 0, terminalCanvas.width, terminalCanvas.height);
                tCtx.strokeStyle = 'rgba(59, 130, 246, 0.15)';
                tCtx.lineWidth = 0.5;
                
                const gridSize = 40;
                const time = Date.now() * 0.0001;
                
                // Animated grid lines
                for(let x = 0; x < terminalCanvas.width; x += gridSize) {
                    tCtx.beginPath();
                    tCtx.moveTo(x, 0);
                    tCtx.lineTo(x, terminalCanvas.height);
                    tCtx.globalAlpha = 0.1 + Math.sin(time + x * 0.01) * 0.05;
                    tCtx.stroke();
                }
                
                for(let y = 0; y < terminalCanvas.height; y += gridSize) {
                    tCtx.beginPath();
                    tCtx.moveTo(0, y);
                    tCtx.lineTo(terminalCanvas.width, y);
                    tCtx.globalAlpha = 0.1 + Math.sin(time + y * 0.01) * 0.05;
                    tCtx.stroke();
                }
                
                tCtx.globalAlpha = 1;
                requestAnimationFrame(drawTerminalGrid);
            }
            drawTerminalGrid();
        }
        
        /* --- 5. TYPEWRITER EFFECT --- */
        // Genesis Stream Typewriter
        const textToType = "Create a Cyber-Citadel with neon spires...";
        const typeWriterElement = document.getElementById('typewriter-gen');
        if(typeWriterElement) {
            let i = 0;
            function typeWriter() {
                if (i < textToType.length) {
                    typeWriterElement.innerHTML += textToType.charAt(i);
                    i++;
                    setTimeout(typeWriter, 80);
                } else {
                    setTimeout(() => {
                        typeWriterElement.innerHTML = "";
                        i = 0;
                        typeWriter();
                    }, 3000);
                }
            }
            setTimeout(typeWriter, 1000);
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(e => { 
                if(e.isIntersecting) {
                    e.target.classList.add('active');
                    
                    // Update neural core position when core section is visible
                    if(e.target.closest('#core')) {
                        const coreSection = document.getElementById('core');
                        const rect = coreSection.getBoundingClientRect();
                        neuralCore.active = true;
                        // Position relative to viewport
                        const coreCanvas = document.getElementById('core-graph-canvas');
                        if(coreCanvas) {
                            const cRect = coreCanvas.getBoundingClientRect();
                            neuralCore.x = cRect.left + cRect.width / 2;
                            neuralCore.y = cRect.top + cRect.height / 2;
                        }
                    }
                }
            });
        }, {threshold: 0.1});
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        
        /* --- 6. SCROLL TO TOP BUTTON --- */
        const scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', () => {
            if(window.scrollY > 500) {
                scrollBtn.style.opacity = '1';
                scrollBtn.style.pointerEvents = 'auto';
            } else {
                scrollBtn.style.opacity = '0';
                scrollBtn.style.pointerEvents = 'none';
            }
        });
        
        scrollBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>


